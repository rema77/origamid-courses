YUI.add("gallery-creation-view",(function(e,t){var i=require("hermes-core/flog")(t);e.namespace("Views")[this.name]=e.Base.create("gallery-creation-view",e.Views["stuff-creation-view"],[],{langBundles:this.details.langBundles,initializer:function(e){return e.heading=this.intlMessage({intlName:"add-to-stuff.CURATIONS_CREATE_A_NEW_GALLERY"}),e.placeholderTitle=this.intlMessage({intlName:"add-to-stuff.CURATIONS_GALLERY_NAME"}),e.placeholderDescription=this.intlMessage({intlName:"add-to-stuff.CURATIONS_DESCRIPTION_OPTIONAL"}),e.cancelText=this.intlMessage({intlName:"common.CANCEL"}),e.actionText=this.intlMessage({intlName:"global-nav.CREATE"}),this.photoId=e.photoId,this.dismissOnCreate=e.dismissOnCreateGallery,this.curationType="gallery",this.titleError=this.intlMessage({intlName:"add-to-stuff.PLEASE_ENTER_GALLERY_NAME"}),this.createError=this.intlMessage({intlName:"add-to-stuff.COULDNT_SAVE_GALLERY"}),this.constructor.superclass.initializer.call(this,e)},activate:function(){var e=this.get("container");this.titleItemNode=e.one(".input-item.title-input-item"),this.titleErrorNode=e.one(".error-message.title-error"),this.createErrorNode=e.one(".error-message.create-error"),this.titleNode=e.one(".stuff-creation-title"),this.descriptionNode=e.one(".stuff-creation-description"),this.actionButton=e.one(".button-action"),this.setupEvents(),this.constructor.superclass.activate.call(this,this.params)},setupEvents:function(){var e=this,t=this.get("container");this.cancelButton=t.one(".button-cancel"),this.actionButton=t.one(".button-action"),this.closeButton=t.one(".close-x-button"),this.registerEventHandler(this.titleNode.on("keyup",(function(){e.titleNode.get("value")&&e.showTitleError(!1)}))),this.registerEventHandler(this.cancelButton.on("click",(function(){e.params.inlineCreation?(e.fire("cancel"),e.resetView()):e.fire("readyToClose")}))),this.registerEventHandler(this.closeButton.on("click",(function(){e.fire("readyToClose")}))),this.registerEventHandler(this.actionButton.on("click",(function(){e.createCuration()})))},createNewAndAddPhoto:function(){var t,r=this,o=this.titleNode.get("value"),n=this.descriptionNode.get("value");return e.rapidTracker.beacon(r.name,"galleryCreationViewCreateClick"),o?(r.showError(r.createErrorNode,!1),t={photoID:r.photoId,title:o,description:n},this.appContext.getModelRegistry("gallery-models").then((function(e){return e.remote.create(t,r.appContext)})).then((function(t){if(r.photoId&&!t.getValue("primary")&&i.error("Photo cannot be added to galleries."),r.titleNode.set("value",""),r.descriptionNode.set("value",""),r.fire("created",{type:r.curationType,curation:t}),r.params.inlineCreation?r.resetView():r.fire("readyToClose"),e.Snowplough){var o={id:t.id},n=e.Snowplough.getGalleryContext(o);e.Snowplough.sendStructuredEvent({category:"gallery",action:"created"},n)}return t})).catch((function(e){throw i.error("Error handling photo addition after gallery creation",{err:e}),r.showError(r.createErrorNode,!0,r.createError),e}))):(r.showTitleError(!0,r.titleError),e.Promise.reject({message:r.titleError}))},focusInitial:function(){this.titleNode&&this.titleNode.focus()}})}),"@VERSION@",{requires:["flickr-view","stuff-creation-view"],optionalRequires:["hermes-core"],langBundles:["more-menu-view","common","global-nav","add-to-stuff"]});YUI.add("hermes-template-group-creation-view",(function(t,n){var e=t.Template.Handlebars.revive({1:function(t,n,e,a,l){var s=null!=n?n:t.nullContext||{},i=t.hooks.helperMissing,r=t.escapeExpression,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t\t\t\t\t<span>"+r((o(e,"preventOrphans")||n&&o(n,"preventOrphans")||i).call(s,(o(e,"intlMessage")||n&&o(n,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"groups.WE_SET_ONLY_SAFE"},data:l,loc:{start:{line:65,column:28},end:{line:65,column:76}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:65,column:11},end:{line:65,column:78}}}))+"</span>\n\t\t\t\t\t<span>"+r((o(e,"preventOrphans")||n&&o(n,"preventOrphans")||i).call(s,(o(e,"intlMessage")||n&&o(n,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"groups.CAN_CHANGE_IN_ADMIN_SETTINGS"},data:l,loc:{start:{line:66,column:28},end:{line:66,column:88}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:66,column:11},end:{line:66,column:90}}}))+"</span>\n"},3:function(t,n,e,a,l){var s=null!=n?n:t.nullContext||{},i=t.hooks.helperMissing,r=t.escapeExpression,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t\t\t\t\t<span>"+r((o(e,"preventOrphans")||n&&o(n,"preventOrphans")||i).call(s,(o(e,"intlMessage")||n&&o(n,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"groups.WE_SET_SAFE_AND_MODERATE"},data:l,loc:{start:{line:69,column:28},end:{line:69,column:84}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:69,column:11},end:{line:69,column:86}}}))+"</span>\n\t\t\t\t\t<span>"+r((o(e,"preventOrphans")||n&&o(n,"preventOrphans")||i).call(s,(o(e,"intlMessage")||n&&o(n,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"groups.CAN_CHANGE_IN_ADMIN_SETTINGS"},data:l,loc:{start:{line:70,column:28},end:{line:70,column:88}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:70,column:11},end:{line:70,column:90}}}))+"</span>\n"},5:function(t,n,e,a,l){var s=null!=n?n:t.nullContext||{},i=t.hooks.helperMissing,r=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t\t\t\t\t<span>"+t.escapeExpression((r(e,"preventOrphans")||n&&r(n,"preventOrphans")||i).call(s,(r(e,"intlMessage")||n&&r(n,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"groups.WE_SET_18_PLUS"},data:l,loc:{start:{line:73,column:28},end:{line:73,column:74}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:73,column:11},end:{line:73,column:76}}}))+"</span>\n"},7:function(t,n,e,a,l){return' aria-checked="true" checked'},9:function(t,n,e,a,l){return" disabled"},11:function(t,n,e,a,l){return' aria-checked="false"'},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,l){var s,i,r=null!=n?n:t.nullContext||{},o=t.hooks.helperMissing,c="function",p=t.escapeExpression,u=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="group-creation-container">\n\t<header>\n\t\t<h1 class="title">'+p(typeof(i=null!=(i=u(e,"heading")||(null!=n?u(n,"heading"):n))?i:o)===c?i.call(r,{name:"heading",hash:{},data:l,loc:{start:{line:3,column:20},end:{line:3,column:31}}}):i)+'</h1>\n\t\t<svg class="close-x-button"><use xlink:href="#icon-close"></use></svg>\n\t</header>\n\n\t<div class="group-creation-content-container">\n\t\t<div class="step-container" data-step-index="0">\n\t\t\t<div class="step-description">\n\t\t\t\t'+p((u(e,"preventOrphansHtml")||n&&u(n,"preventOrphansHtml")||o).call(r,(u(e,"intlHTMLMessage")||n&&u(n,"intlHTMLMessage")||o).call(r,{name:"intlHTMLMessage",hash:{help_url:null!=(s=null!=n?u(n,"urls"):n)?u(s,"help"):s,group_guidelines_url:null!=(s=null!=n?u(n,"urls"):n)?u(s,"groupGuidelines"):s,intlName:"groups.GROUP_CREATION_INTRO"},data:l,loc:{start:{line:10,column:25},end:{line:10,column:142}}}),{name:"preventOrphansHtml",hash:{},data:l,loc:{start:{line:10,column:4},end:{line:10,column:144}}}))+'\n\t\t\t</div>\n\t\t\t<div class="group-options group-privacy">\n\t\t\t\t<div class="radio-container public-group radio large">\n\t\t\t\t\t<input type="radio" id="public-group-radio" class="toggle-input" name="membership" aria-checked="true" checked/>\n\t\t\t\t\t<label for="public-group-radio" tabindex="0">\n\t\t\t\t\t\t<div class="check-indicator"></div>\n\t\t\t\t\t\t<span class="label-text">'+p((u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.PUBLIC_GROUP"},data:l,loc:{start:{line:17,column:31},end:{line:17,column:77}}}))+'</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="radio-sub-text">\n\t\t\t\t\t\t'+p((u(e,"preventOrphans")||n&&u(n,"preventOrphans")||o).call(r,(u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.PUBLIC_GROUP_DESC_1"},data:l,loc:{start:{line:20,column:23},end:{line:20,column:74}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:20,column:6},end:{line:20,column:76}}}))+'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="radio-container invite-only-group radio large">\n\t\t\t\t\t<input type="radio" id="invite-only-group-radio" class="toggle-input" name="membership" aria-checked="false"/>\n\t\t\t\t\t<label for="invite-only-group-radio" tabindex="0">\n\t\t\t\t\t\t<div class="check-indicator"></div>\n\t\t\t\t\t\t<span class="label-text">'+p((u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.INVITE_ONLY_GROUP"},data:l,loc:{start:{line:28,column:31},end:{line:28,column:82}}}))+'</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="radio-sub-text">\n\t\t\t\t\t\t<span>'+p((u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.INVITE_ONLY_GROUP_DESC_1"},data:l,loc:{start:{line:31,column:12},end:{line:31,column:70}}}))+"</span>\n\t\t\t\t\t\t<span>"+p((u(e,"preventOrphans")||n&&u(n,"preventOrphans")||o).call(r,(u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.INVITE_ONLY_GROUP_DESC_3"},data:l,loc:{start:{line:32,column:29},end:{line:32,column:85}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:32,column:12},end:{line:32,column:87}}}))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="private-group-option-container hidden">\n\t\t\t\t\t<div class="checkbox-container private-group radio switch">\n\t\t\t\t\t\t<input id="private-group" class="toggle-input" type="checkbox" aria-checked="false">\n\t\t\t\t\t\t<label for="private-group" tabindex="0">\n\t\t\t\t\t\t\t<span class="label-text">'+p((u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.MAKE_GROUP_PRIVATE"},data:l,loc:{start:{line:39,column:32},end:{line:39,column:84}}}))+'</span>\n\t\t\t\t\t\t\t<div class="check-indicator square" role="checkbox"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class="checkbox-sub-text">\n\t\t\t\t\t\t\t<span class="desc-1">'+p((u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.PRIVATE_GROUP_DESC_1"},data:l,loc:{start:{line:43,column:28},end:{line:43,column:82}}}))+'</span>\n\t\t\t\t\t\t\t<span class="desc-2">'+p((u(e,"preventOrphansHtml")||n&&u(n,"preventOrphansHtml")||o).call(r,(u(e,"intlHTMLMessage")||n&&u(n,"intlHTMLMessage")||o).call(r,{name:"intlHTMLMessage",hash:{intlName:"groups.PRIVATE_GROUP_DESC_2"},data:l,loc:{start:{line:44,column:49},end:{line:44,column:105}}}),{name:"preventOrphansHtml",hash:{},data:l,loc:{start:{line:44,column:28},end:{line:44,column:107}}}))+'</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="step-container hidden" data-step-index="1">\n\t\t\t<div class="step-description">\n\t\t\t\t'+p((u(e,"preventOrphans")||n&&u(n,"preventOrphans")||o).call(r,(u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{lang:null!=n?u(n,"lang"):n,intlName:"groups.GROUP_NAME_DESC_INSTRUCTION"},data:l,loc:{start:{line:53,column:21},end:{line:53,column:90}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:53,column:4},end:{line:53,column:92}}}))+'\n\t\t\t</div>\n\t\t\t<div class="group-options group-details">\n\t\t\t\t<input class="input-field group-name" type="text" placeholder="'+p((u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.GROUP_NAME_PLACEHOLDER"},data:l,loc:{start:{line:56,column:67},end:{line:56,column:123}}}))+'"/>\n\t\t\t\t<div class="error-message title-error hidden"></div>\n\t\t\t\t<textarea class="input-field group-description" placeholder="'+p((u(e,"preventOrphans")||n&&u(n,"preventOrphans")||o).call(r,(u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.GROUP_DESC_PLACEHOLDER"},data:l,loc:{start:{line:58,column:82},end:{line:58,column:136}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:58,column:65},end:{line:58,column:138}}}))+'"></textarea>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="step-container hidden" data-step-index="2">\n\t\t\t<div class="step-description">\n'+(null!=(s=(u(e,"ifCond")||n&&u(n,"ifCond")||o).call(r,null!=n?u(n,"safetyLevel"):n,"===","0",{name:"ifCond",hash:{},fn:t.program(1,l,0),inverse:t.noop,data:l,loc:{start:{line:64,column:4},end:{line:67,column:15}}}))?s:"")+(null!=(s=(u(e,"ifCond")||n&&u(n,"ifCond")||o).call(r,null!=n?u(n,"safetyLevel"):n,"===","1",{name:"ifCond",hash:{},fn:t.program(3,l,0),inverse:t.noop,data:l,loc:{start:{line:68,column:4},end:{line:71,column:15}}}))?s:"")+(null!=(s=(u(e,"ifCond")||n&&u(n,"ifCond")||o).call(r,null!=n?u(n,"safetyLevel"):n,"===","2",{name:"ifCond",hash:{},fn:t.program(5,l,0),inverse:t.noop,data:l,loc:{start:{line:72,column:4},end:{line:74,column:15}}}))?s:"")+'\t\t\t</div>\n\t\t\t<div class="group-options group-age">\n\t\t\t\t<div class="radio-container all-age-group radio large">\n\t\t\t\t\t<input type="radio" id="all-age-group" class="toggle-input" name="age"\n\t\t\t\t\t\t'+(null!=(s=(u(e,"ifCond")||n&&u(n,"ifCond")||o).call(r,null!=n?u(n,"safetyLevel"):n,"!==","2",{name:"ifCond",hash:{},fn:t.program(7,l,0),inverse:t.program(9,l,0),data:l,loc:{start:{line:79,column:6},end:{line:79,column:95}}}))?s:"")+'/>\n\t\t\t\t\t<label for="all-age-group" tabindex="0">\n\t\t\t\t\t\t<div class="check-indicator"></div>\n\t\t\t\t\t\t<span class="label-text">'+p((u(e,"preventOrphans")||n&&u(n,"preventOrphans")||o).call(r,(u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.GOOD_FOR_ALL_AGES"},data:l,loc:{start:{line:82,column:48},end:{line:82,column:97}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:82,column:31},end:{line:82,column:99}}}))+'</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class="radio-container adult-group radio large">\n\t\t\t\t\t<input type="radio" id="adult-group" class="toggle-input" name="age" '+(null!=(s=(u(e,"ifCond")||n&&u(n,"ifCond")||o).call(r,null!=n?u(n,"safetyLevel"):n,"===","2",{name:"ifCond",hash:{},fn:t.program(7,l,0),inverse:t.program(11,l,0),data:l,loc:{start:{line:86,column:74},end:{line:86,column:175}}}))?s:"")+'/>\n\t\t\t\t\t<label for="adult-group" tabindex="0">\n\t\t\t\t\t\t<div class="check-indicator"></div>\n\t\t\t\t\t\t<span class="label-text">'+p((u(e,"preventOrphans")||n&&u(n,"preventOrphans")||o).call(r,(u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.GROUP_IS_18_PLUS"},data:l,loc:{start:{line:89,column:48},end:{line:89,column:96}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:89,column:31},end:{line:89,column:98}}}))+'</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="radio-sub-text">\n\t\t\t\t\t\t<span>'+p((u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"groups.FOR_ADULT_ONLY_GROUPS"},data:l,loc:{start:{line:92,column:12},end:{line:92,column:67}}}))+"</span>\n\t\t\t\t\t\t<a href="+p(t.lambda(null!=(s=null!=n?u(n,"urls"):n)?u(s,"age"):s,n))+' target="_blank">'+p((u(e,"preventOrphans")||n&&u(n,"preventOrphans")||o).call(r,(u(e,"intlMessage")||n&&u(n,"intlMessage")||o).call(r,{name:"intlMessage",hash:{intlName:"common.LEARN_MORE"},data:l,loc:{start:{line:93,column:60},end:{line:93,column:102}}}),{name:"preventOrphans",hash:{},data:l,loc:{start:{line:93,column:43},end:{line:93,column:104}}}))+'</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="terms-of-service">\n\t\t\t\t'+p((u(e,"preventOrphansHtml")||n&&u(n,"preventOrphansHtml")||o).call(r,(u(e,"intlHTMLMessage")||n&&u(n,"intlHTMLMessage")||o).call(r,{name:"intlHTMLMessage",hash:{comm_guidelines_url:null!=(s=null!=n?u(n,"urls"):n)?u(s,"commGuidelines"):s,terms_of_service_url:null!=(s=null!=n?u(n,"urls"):n)?u(s,"termsOfService"):s,intlName:"groups.GROUP_TERMINATION_WARNING"},data:l,loc:{start:{line:98,column:25},end:{line:98,column:167}}}),{name:"preventOrphansHtml",hash:{},data:l,loc:{start:{line:98,column:4},end:{line:98,column:169}}}))+'\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="action-container">\n\t\t<div class="error-message create-error hidden"></div>\n\t\t<div class="buttons">\n\t\t\t<button class="mini alt button-cancel">'+p(typeof(i=null!=(i=u(e,"cancelText")||(null!=n?u(n,"cancelText"):n))?i:o)===c?i.call(r,{name:"cancelText",hash:{},data:l,loc:{start:{line:106,column:42},end:{line:106,column:56}}}):i)+'</button>\n\t\t\t<button class="mini action button-action">'+p(typeof(i=null!=(i=u(e,"createText")||(null!=n?u(n,"createText"):n))?i:o)===c?i.call(r,{name:"createText",hash:{},data:l,loc:{start:{line:107,column:45},end:{line:107,column:59}}}):i)+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),a={};t.Array.each([],(function(n){var e=t.Template.get("hermes/"+n);e&&(a[n]=e)})),t.Template.register("hermes/group-creation-view",(function(n,l){return(l=l||{}).partials=l.partials?t.merge(a,l.partials):a,e(n,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("group-creation-view",(function(t,e){var i=require("hermes-core/flog")(e),o={4:{default:"add-to-stuff.ALREADY_GROUP_WITH_NAME"}},n="0",s="2",r="1",a="2",h="3",l="0",c="1";t.namespace("Views")[this.name]=t.Base.create("group-creation-view",t.Views["stuff-creation-view"],[],{langBundles:this.details.langBundles,initializer:function(t){return this.labelList=[{title:"<span>"+this.intlMessage({intlName:"add-to-stuff.CURATIONS_CREATE_A_NEW_GROUP"})+"</span>",cancelText:this.intlMessage({intlName:"common.CANCEL"}),actionText:this.intlMessage({intlName:"stats.NEXT"})},{title:this.intlMessage({intlName:"add-to-stuff.ABOUT_YOUR_GROUP"}),cancelText:this.intlMessage({intlName:"stats.PREVIOUS"}),actionText:this.intlMessage({intlName:"stats.NEXT"})},{title:this.intlMessage({intlName:"groups.GROUP_SAFETY_LEVEL"}),cancelText:this.intlMessage({intlName:"stats.PREVIOUS"}),actionText:this.intlMessage({intlName:"groups.CREATE_GROUP"})}],this.curationType="group",this.titleError=this.intlMessage({intlName:"add-to-stuff.PLEASE_ENTER_GROUP_NAME"}),this.createError=this.intlMessage({intlName:"add-to-stuff.COULDNT_SAVE_GROUP"}),this.photoId=t.photoId,this.groupOptions={ageRestriction:l,privacy:h,safety:n},this.constructor.superclass.initializer.call(this,t)},loadState:function(){var e=this;return this.photoId?this.appContext.getModel("photo-models",this.photoId).then((function(t){var i=t.getValue("safetyLevel");e.photoModel=t,e.groupOptions.safety=i?i.toString():n})):t.Promise.resolve()},buildContainer:function(){return this.activeStep=0,this.setContainerWithTemplate("group-creation-view",{heading:this.labelList[0].title,cancelText:this.labelList[0].cancelButton,actionText:this.labelList[0].actionButton,lang:this.appContext.lang.replace(/\-/g,"_"),urls:{groupGuidelines:"/groups_guidelines.gne",help:"https://flickrhelp.com/hc/en-us/search?&query=groups",age:"https://flickrhelp.com/hc/en-us/articles/4404070473364-Flickr-group-administration-options",termsOfService:"/atos/pro",commGuidelines:"/help/guidelines"},safetyLevel:this.groupOptions.safety}),this},activate:function(){var t=this,e=this.get("container");this.headTitleNode=e.one(".title"),this.actionContainer=e.one(".action-container"),this.cancelButton=e.one(".button-cancel"),this.actionButton=e.one(".button-action"),this.closeButton=e.one(".close-x-button"),this.titleNode=e.one(".group-name"),this.descriptionNode=e.one(".group-description"),this.titleErrorNode=e.one(".error-message.title-error"),this.createErrorNode=e.one(".error-message.create-error"),this.privateGroupInput=e.one("#private-group"),this.ageRadioContainer=e.one(".group-age"),this.privacyRadioContainer=e.one(".group-privacy"),this.privateGroupOptionContainer=e.one(".private-group-option-container"),this.headTitleNode.set("innerHTML",this.labelList[0].title),this.cancelButton.set("text",this.labelList[0].cancelText),this.actionButton.set("text",this.labelList[0].actionText),this.registerEventHandler(this.privacyRadioContainer.on("change",this.handlePrivacyRadioChange.bind(this))),this.registerEventHandler(this.ageRadioContainer.on("change",this.handleAgeRadioChange.bind(this))),this.registerEventHandler(this.cancelButton.on("click",this.handleCancel.bind(this))),this.registerEventHandler(this.actionButton.on("click",this.handleAction.bind(this))),this.registerEventHandler(this.closeButton.on("click",function(){t.fire("readyToClose")}.bind(this))),this.registerEventHandler(this.titleNode.on("keyup",function(){this.titleNode.get("value")&&this.showError(this.titleErrorNode,!1)}.bind(this))),this.registerEventHandler(this.privacyRadioContainer.on("keydown",this.handlePrivacyKeyPress.bind(this))),this.registerEventHandler(this.ageRadioContainer.on("keydown",this.handleAgeKeyPress.bind(this))),this.constructor.superclass.activate.call(this,this.params)},handleCancel:function(){this.activeStep>0?this.goToStep(this.activeStep-1):this.params.inlineCreation?(this.fire("cancel"),this.resetView()):this.fire("readyToClose")},handleAction:function(){0===this.activeStep?this.goToStep(this.activeStep+1):1===this.activeStep?this.titleNode.get("value")?this.goToStep(this.activeStep+1):this.showError(this.titleErrorNode,!0,this.titleError):this.titleNode.get("value")?(this.showError(this.createErrorNode,!1),this.createCuration().then(function(t){this.fire("created",{type:this.curationType,curation:t}),this.params.inlineCreation?this.resetView():this.fire("readyToClose")}.bind(this)).catch(function(t){var e=t.code;4===e&&o.hasOwnProperty(e)?(this.goToStep(1),this.showError(this.titleErrorNode,!0,this.intlMessage({intlName:o[e].default}))):this.showError(this.createErrorNode,!0,this.createError)}.bind(this))):(this.goToStep(1),this.showError(this.titleErrorNode,!0,this.titleError))},handlePrivacyKeyPress:function(t){var e=t.keyCode,i=t.target.ancestor(".radio",!0).one(".toggle-input"),o=i.get("type");13===e&&("radio"===o?i.get("checked")||(i.set("checked",!0),this.handlePrivacyRadioChange(t)):(i.set("checked",!i.get("checked")),this.handlePrivacyRadioChange(t)))},handleAgeKeyPress:function(t){var e=t.keyCode,i=t.target.ancestor(".radio",!0).one(".toggle-input"),o=i.hasAttribute("disabled");13!==e||i.get("checked")||o||(i.set("checked",!0),this.handleAgeRadioChange(t))},handlePrivacyRadioChange:function(t){var e=t.target.ancestor(".radio",!0);e.hasClass("public-group")?(this.privateGroupOptionContainer.addClass("hidden"),this.privateGroupInput.set("checked",!1),this.groupOptions.privacy=h):e.hasClass("invite-only-group")?(this.privateGroupOptionContainer.removeClass("hidden"),this.groupOptions.privacy=a):e.hasClass("private-group")&&(e.one(".toggle-input").get("checked")?this.groupOptions.privacy=r:this.groupOptions.privacy=a),this.fire("contentSizeChanged")},handleAgeRadioChange:function(t){var e=t.target.get("id");"all-age-group"===e?this.groupOptions.ageRestriction=l:"adult-group"===e&&(this.groupOptions.ageRestriction=c,this.groupOptions.safety=s)},goToStep:function(t){var e=this.get("container"),i=e.one('.step-container[data-step-index="'+this.activeStep+'"]'),o=e.one('.step-container[data-step-index="'+t+'"]');clearTimeout(this.goToStepTimeout),o.removeClass("hiding-left"),o.removeClass("hiding-right"),i.removeClass("showing"),i.removeClass("showing-left"),i.removeClass("showing-right"),o.removeClass("hidden"),o.addClass("showing"),t>this.activeStep?(i.addClass("hiding-left"),setTimeout((function(){o.addClass("showing-left")}),0)):(i.addClass("hiding-right"),setTimeout((function(){o.addClass("showing-right")}),0)),this.goToStepTimeout=setTimeout((function(){i.removeClass("hiding-left"),i.removeClass("hiding-right"),o.removeClass("showing"),o.removeClass("showing-left"),o.removeClass("showing-right"),i.addClass("hidden")}),300),this.setStepValues(t),1===this.activeStep&&this.titleNode.focus(),this.fire("contentSizeChanged")},setStepValues:function(t){var e=this;this.headTitleNode.addClass("changing"),this.actionContainer.addClass("changing"),e.setStepValuesTimeout=setTimeout((function(){e.headTitleNode.set("innerHTML",e.labelList[t].title),e.cancelButton.set("text",e.labelList[t].cancelText),e.actionButton.set("text",e.labelList[t].actionText)}),300),this.setStepValuesTimeout=setTimeout((function(){e.headTitleNode.removeClass("changing"),e.actionContainer.removeClass("changing"),e.cancelButton.set("text",e.labelList[t].cancelText),e.actionButton.set("text",e.labelList[t].actionText)}),600),this.activeStep=t},createNewAndAddPhoto:function(){var e,i=this,o=this.titleNode.get("value"),n=this.descriptionNode.get("value");return e={name:o,description:n,userId:this.appContext.getViewer().nsid,privacyLevel:this.groupOptions.privacy,ageRestriction:this.groupOptions.ageRestriction,safetyLevel:this.groupOptions.safety},this.appContext.getModelRegistry("group-info-models").then((function(t){return i.groupInfoModelRegistry=t,t.remote.create(e,i.appContext)})).then((function(e){return i.photoId?i.addPhoto(e.id,i.photoId).then((function(){return e})):t.Promise.resolve(e)})).catch((function(t){throw t}))},addPhoto:function(t,e){var o=this;return this.appContext.getModel("group-pool-models",t).then((function(t){return o.photoModel.getValue("isOwner")?o.addToGroup(t,e):o.inviteToGroup(t,e)})).catch((function(t){i.error("Error adding photo after group creation",{err:t})}))},addToGroup:function(e,o){var n=e.getValue("id");return e.addPhotoRemote(o).catch((function(s){if(6===s.code){if(this.pendingGroupRegistry.addOrUpdate({id:[o,n].join("-"),photoId:o,groupId:n}),t.Snowplough){var r={id:n},a=[];a=a.concat(t.Snowplough.getGroupContext(r)),this.appContext.getModel("photo-models",o).then(function(e){t.Snowplough.sendStructuredEvent({category:"group",action:"invite_photo"},a.concat(t.Snowplough.getPhotoContextFromModel(e)))}.bind(this))}return e}throw i.error("Error adding photo to group",{err:s}),s}))},inviteToGroup:function(t,e){t.getValue("id");return t.invitePhotoRemote(e).catch((function(e){if(6===e.code)return t;throw i.error("Error inviting photo to group",{err:e}),e}))},showError:function(e,i,o){o&&e.set("text",t.StringHelper.preventOrphans(o)),i?e.removeClass("hidden"):e.addClass("hidden")},resetView:function(){this.buildContainer(),this.activate()}})}),"@VERSION@",{requires:["flickr-view","stuff-creation-view","hermes-template-group-creation-view","string-helper"],optionalRequires:["hermes-core"],langBundles:["common","global-nav","stats","groups","add-to-stuff"]});YUI.add("curation-helper",(function(e,o){require("hermes-core/flog")(o),e.mix({langBundles:["prints"]},e.Localizable);e.CurationHelper=function(o,i){var r=this,t=i.view;return this.showAddToCuration=function(i){let a,s,n=i.photoId,l=i.customConfig,u=i.anchorNode,d=void 0===i.useViewportType||i.useViewportType,p=i.containerType,w=void 0===i.showAlbums||i.showAlbums,c=void 0!==i.showGalleries&&i.showGalleries,h=void 0===i.showGroups||i.showGroups,m=i.initialTab,v={},f=i.modalSizeConfig||void 0;return m||(m=w?"album":"gallery"),a=l||{photoId:n,initialTab:m,showAlbums:w,showGalleries:c,showGroups:h,inlineGroupCreation:!1,dismissOnSelect:!0,dismissOnCreate:!0,modalSizeConfig:f},a=Object.assign(a,{appContext:o}),v={useViewportType:d,containerType:p,configs:{droparound:{preferTop:!0,width:400,anchorElement:u,keyboardAnchorElement:u},modal:{flexLayout:!0,height:450}}},s=new e.ModalDroparoundHelper(o,v),"droparound"===s.params.containerType||(a.inlineGroupCreation=!0,a.useLargeLayout=!0,a.dismissOnSelect=!1,a.dismissOnCreate=!1),this.curateView=new e.Views["add-to-stuff-view"](a),v.configs.common.subview=this.curateView,s.setParams(v),this.curateWrapperView=s.show(),t.registerEventHandler(s.on("close",(function(e){r.fire("curateDroparoundClosed")}))),this.curateWrapperView},this.showCreationModal=function(i){var r=i.viewName,t=i.customConfig,a=i.overlayClassList,s={appContext:o};s=Object.assign(s,t),this.creationView=new e.Views[r](s),this.creationModal=new e.Views.FluidModal({appContext:o,subview:this.creationView,overlayClassList:a,hasSubviewConfigRefactor:!0}),this.creationModal.show()},this},e.augment(e.CurationHelper,e.EventTarget)}),"@VERSION@",{requires:["event-custom","add-to-stuff-view","album-creation-view","gallery-creation-view","group-creation-view","modal-droparound-helper"],optionalRequires:["hermes-core"]});YUI.add("photo-card-engagement-view",(function(e,t){var n=require("hermes-core/flog")(t);e.namespace("Views")[this.name]=e.Base.create("photo-card-engagement-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){this.set("isActiveViewAgnostic",!0),this.signedIn=this.appContext.getViewer().signedIn,this.params=t,this.config={displayCurate:!("displayCurate"in t)||t.displayCurate,displayShare:"displayShare"in t&&t.displayShare,photoItem:t.photoItem,theme:t.theme,enableFaveKey:t.enableFaveKey},this.config.displayCurate=this.config.displayCurate&&this.signedIn,t.subviewParams={"like-engagement-item-view":{photoId:t.photoItem.photoId,showCount:!0,size:"small",isPadded:!1,theme:"overlay"===this.config.theme?"light":void 0},"fluid-share-photo-view":{photoId:t.photoItem.photoId,nsid:t.photoItem.owner.nsid,size:"small",theme:"light"}},this.curationHelper=new e.CurationHelper(this.appContext,{view:this})},subviewConfig:{"like-engagement-item-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,additionalViewClasses:["engagement-item","like"],disabled:function(){return!this.appContext.flipper.isFlipped("enable-likes")}},"fluid-share-photo-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,additionalViewClasses:["engagement-item","share"]}},buildContainer:function(){this.setContainerWithTemplate("photo-card-engagement",this.config)},activate:function(){var e=this.get("container");this.faveNode=e.one(".engagement-item.fave"),this.commentNode=e.one(".engagement-item.comment"),this.curateNode=e.one(".engagement-item.curate"),this.faveNode&&(this.faveCountNode=this.faveNode.one(".engagement-count"),this.registerEventHandler(this.faveNode.on(["click","key"],this.handleFaveClick.bind(this),"down:13")),this.config.enableFaveKey&&(this.keyEventHandler=this.attachKeyEvent("down:70",this.handleFaveKeyPress.bind(this)))),this.commentNode&&(this.commentIcon=this.commentNode.one(".engagement-icon"),this.commentCountNode=this.commentNode.one(".engagement-count"),this.registerEventHandler(this.commentNode.on(["click","key"],this.handleCommentClick.bind(this),"down:13"))),this.curateNode&&this.registerEventHandler(this.curateNode.on(["click","key"],this.handleCurateClick.bind(this),"down:13")),this.commentCountNode&&this.config.photoItem.engagementModel.on("valuesChanged",(e=>{if(e.commentCount){var t=e.commentCount.newVal;this.commentCountNode.set("text",e.commentCount.newVal),this.commentCountNode.toggleClass("empty",0===t)}}))},handleFaveKeyPress:function(e){70===e.keyCode&&this.handleFaveClick(e)},handleFaveClick:function(t){var i,o=this,a=this.faveNode,s=this.faveCountNode;this.faveNode.hasClass("can-not-fave")||(this.signedIn?this.isFaving||(this.isFaving=!0,this.config.photoItem.engagementModel.toggleFave(),i=this.config.photoItem.engagementModel.getValue("faveCount"),a.toggleClass("faved",this.config.photoItem.engagementModel.getValue("isFaved")),s.toggleClass("empty",0===i),s&&i>0?s.set("text",i):s.set("text",""),this.config.photoItem.engagementModel.remoteUpdate().then((function(){o.isFaving=!1}),(function(e){3!==e.code&&(o.config.photoItem.engagementModel.toggleFave(),a.toggleClass("faved",o.config.photoItem.engagementModel.getValue("isFaved")),s&&(s.set("text",i),s.toggleClass("empty",0===i))),n.error("Error faving photo",{err:e}),o.isFaving=!1}))):this.showSignUpAndFaveModal(this.config.photoItem.photoId,e.config.win.location.href))},handleCommentClick:function(){var t=this,n={appContext:this.appContext,photoId:this.config.photoItem.photoId,isScrollable:!0},i=new e.ModalDroparoundHelper(this.appContext,{configs:{common:{subviewName:"photo-comments-view"},droparound:{subviewParams:n,preferTop:!0,width:400,height:400,anchorElement:this.commentIcon,keyboardAnchorElement:this.commentNode},modal:{subviewParams:Object.assign({},n,{hasHeader:!0}),height:550,flexLayout:!0}}});i.show(),t.registerEventHandler(e.on("addComment:showingSignupModal",(function(){i.close()}))),t.registerEventHandler(i.on("close",(function(){t.commentNode.removeClass("active"),t.fire("menuClosed")}))),this.commentNode.addClass("active"),this.fire("menuOpened")},handleCurateClick:function(){var e=this,t=this.config.photoItem.isOwner;"fluid-droparound-view"===this.curationHelper.showAddToCuration({photoId:this.config.photoItem.photoId,showAlbums:t,showGalleries:!t,anchorNode:this.curateNode}).name&&(this.fire("menuOpened"),this.curationHelper.on("curateDroparoundClosed",(function(){e.fire("menuClosed"),e.curateNode.removeClass("active")})),this.curateNode.addClass("active"))},showSignUpAndFaveModal:function(t,n){var i,o=this.intlMessage({intlName:"fave-view.SIGN_IN_BEFORE_FAVE_TITLE"}),a=this.intlMessage({intlName:"fave-view.JOIN_FLICKR_AND_FAVE"});i=new e.Views.SignUpModal({appContext:this.appContext,signUpHeaderClass:"signup-fave",signUpTitle:o,signUpMessage:a,beaconPrefix:"fave"}),this.registerEventHandler(i.on("signUpClick",(function(i){e.SigninHelper.signUpPendingFave({id:t},{postLoginUrl:n})}))),this.registerEventHandler(i.on("signInClick",(function(i){e.SigninHelper.addPendingFave({id:t},{postLoginUrl:n})}))),i.show()},toggleCommentNode:function(e){this.commentNode&&this.commentNode.toggleClass("hidden",!e)},toggleFaveNode:function(e){this.faveNode&&this.faveNode.toggleClass("hidden",!e)}})}),"@VERSION@",{requires:["flickr-view","photo-comments-view","fluid-share-photo-view","hermes-template-photo-card-engagement","curation-helper","modal-droparound-helper"],optionalRequires:["hermes-core"],langBundles:["common","comments","fave-view"]});YUI.add("hermes-lang-fave-view",(function(e,t){e.Intl.add("hermes/fave-view","en-US",{COULDNT_FAVE:[{type:0,value:"We couldn’t fave at this time"}],SIGN_IN_TO_FAVE:[{type:0,value:"You must be signed in to fave. Please sign in now."}],LOADING_FAVES:[{type:0,value:"Loading Faves..."}],UNFAVE_PHOTO:[{type:0,value:"Unfave this photo"}],FAVE_PHOTO:[{type:0,value:"Fave this photo"}],WHO_FAVED:[{type:0,value:"Who faved this photo"}],SIGN_IN_BEFORE_FAVE_TITLE:[{type:0,value:"You found a photo to fave!"}],SIGN_IN_BEFORE_FAVE_MESSAGE:[{type:0,value:"That’s great. Just sign in to fave it."}],SIGN_IN_AND_FAVE:[{type:0,value:"Sign in and fave"}],JOIN_FLICKR_AND_FAVE:[{type:0,value:"Join Flickr to add this photo to your favorites."}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-photo-well",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,a,t){return" no-click"},3:function(n,l,e,a,t){return" is-hidden"},5:function(n,l,e,a,t){return" is-video"},7:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression("function"==typeof(o=null!=(o=r(e,"prev-url")||(null!=l?r(l,"prev-url"):l))?o:n.hooks.helperMissing)?o.call(null!=l?l:n.nullContext||{},{name:"prev-url",hash:{},data:t,loc:{start:{line:1,column:174},end:{line:1,column:186}}}):o)},9:function(n,l,e,a,t){return"#"},11:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression("function"==typeof(o=null!=(o=r(e,"prev-title")||(null!=l?r(l,"prev-title"):l))?o:n.hooks.helperMissing)?o.call(null!=l?l:n.nullContext||{},{name:"prev-title",hash:{},data:t,loc:{start:{line:1,column:227},end:{line:1,column:241}}}):o)},13:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression("function"==typeof(o=null!=(o=r(e,"next-url")||(null!=l?r(l,"next-url"):l))?o:n.hooks.helperMissing)?o.call(null!=l?l:n.nullContext||{},{name:"next-url",hash:{},data:t,loc:{start:{line:6,column:174},end:{line:6,column:186}}}):o)},15:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression("function"==typeof(o=null!=(o=r(e,"next-title")||(null!=l?r(l,"next-title"):l))?o:n.hooks.helperMissing)?o.call(null!=l?l:n.nullContext||{},{name:"next-title",hash:{},data:t,loc:{start:{line:6,column:227},end:{line:6,column:241}}}):o)},17:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=c(e,"if").call(r,null!=l?c(l,"opt-out-enabled"):l,{name:"if",hash:{},fn:n.program(18,t,0),inverse:n.noop,data:t,loc:{start:{line:10,column:1},end:{line:14,column:8}}}))?o:"")+"\n\t"+u((c(e,"outlet")||l&&c(l,"outlet")||i).call(r,null!=l?c(l,"photo-sidebar-toggle-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:16,column:1},end:{line:16,column:37}}}))+'\n\n\t<div class="engagement-container"></div>\n\n\t'+u((c(e,"outlet")||l&&c(l,"outlet")||i).call(r,null!=l?c(l,"attribution-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:20,column:1},end:{line:20,column:28}}}))+"\n\t"+u((c(e,"outlet")||l&&c(l,"outlet")||i).call(r,null!=l?c(l,"people-notes-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:21,column:1},end:{line:21,column:29}}}))+"\n\n"},18:function(n,l,e,a,t){return'\t<div class="feedback-widget">\n\t\t<button class="ui-button ui-button-cta ui-button-transparent"><span>Opt-out &amp; Feedback</span></button>\n\t</div>\n'},compiler:[8,">= 4.3.0"],main:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<a class="navigate-target navigate-prev'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"prev-is-not-clickable"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:39},end:{line:1,column:84}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-hidden"):l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:84},end:{line:1,column:118}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-video"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:118},end:{line:1,column:150}}}))?o:"")+'" href="'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"prev-url"):l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:1,column:158},end:{line:1,column:202}}}))?o:"")+'" title="'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"prev-url"):l,{name:"if",hash:{},fn:n.program(11,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:211},end:{line:1,column:248}}}))?o:"")+'"  data-track="prevPhotoButtonClick" data-action="ad"><span class="hide-text">&rarr;</span></a>\n<a class="navigate-target-arrow-only navigate-target navigate-prev'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"prev-is-not-clickable"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:66},end:{line:2,column:111}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-hidden"):l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:111},end:{line:2,column:145}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-video"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:145},end:{line:2,column:177}}}))?o:"")+'" href="'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"prev-url"):l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:2,column:185},end:{line:2,column:229}}}))?o:"")+'" data-track="prevPhotoButtonClick" data-action="ad"><span class="hide-text">&larr;</span></a>\n\n'+u((c(e,"outlet")||l&&c(l,"outlet")||i).call(r,null!=l?c(l,"photo-well-media-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:4,column:0},end:{line:4,column:32}}}))+'\n\n<a class="navigate-target navigate-next'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"next-is-not-clickable"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:39},end:{line:6,column:84}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-hidden"):l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:84},end:{line:6,column:118}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-video"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:118},end:{line:6,column:150}}}))?o:"")+'" href="'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"next-url"):l,{name:"if",hash:{},fn:n.program(13,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:6,column:158},end:{line:6,column:202}}}))?o:"")+'" title="'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"next-url"):l,{name:"if",hash:{},fn:n.program(15,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:211},end:{line:6,column:248}}}))?o:"")+'" data-track="nextPhotoButtonClick" data-action="ad"><span class="hide-text">&rarr;</span></a>\n<a class="navigate-target-arrow-only navigate-target navigate-next'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"next-is-not-clickable"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:7,column:66},end:{line:7,column:111}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-hidden"):l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:7,column:111},end:{line:7,column:145}}}))?o:"")+(null!=(o=c(e,"if").call(r,null!=l?c(l,"is-video"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:7,column:145},end:{line:7,column:177}}}))?o:"")+'" href="'+(null!=(o=c(e,"if").call(r,null!=l?c(l,"next-url"):l,{name:"if",hash:{},fn:n.program(13,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:7,column:185},end:{line:7,column:229}}}))?o:"")+'" data-track="nextPhotoButtonClick" data-action="ad"><span class="hide-text">&rarr;</span></a>\n\n'+(null!=(o=c(e,"unless").call(r,null!=l?c(l,"is-ad"):l,{name:"unless",hash:{},fn:n.program(17,t,0),inverse:n.noop,data:t,loc:{start:{line:9,column:0},end:{line:23,column:11}}}))?o:"")+"\n"+u((c(e,"outlet")||l&&c(l,"outlet")||i).call(r,null!=l?c(l,"person-menu-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:25,column:0},end:{line:25,column:27}}}))+"\n"+u((c(e,"outlet")||l&&c(l,"outlet")||i).call(r,null!=l?c(l,"group-menu-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:26,column:0},end:{line:26,column:26}}}))+"\n"},useData:!0}),a={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(a[l]=e)})),n.Template.register("hermes/photo-well",(function(l,t){return(t=t||{}).partials=t.partials?n.merge(a,t.partials):a,e(l,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-reboot-welcome-dialog-content",(function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,o,a){return"\tWhile we continue to develop the beta experience, we want your feedback. In case you need some of the missing functionality, you can easily opt-out and go back to the old experience.\n"},3:function(e,t,n,o,a){return"\tPlease continue providing us with feedback so we can continue to improve Flickr.\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,a){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"Flickr is about the amazing photos you capture and the communities that you build around these photos. The goal of our photo page redesign is to provide you with a fast photo browsing experience and an easy interface to build &amp; maintain relationships.<br>\n<br>\nOver the last 4 weeks, we received a lot of feedback from the Flickr community regarding the photo page design. Based on the feedback, we are experimenting with different variations of the photo page to identify the best experience.<br>\n<br>\n"+(null!=(r=i(n,"if").call(null!=t?t:e.nullContext||{},null!=t?i(t,"opt-out-enabled"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:5,column:0},end:{line:9,column:7}}}))?r:"")+"<br>"},useData:!0}),o={};e.Array.each([],(function(t){var n=e.Template.get("hermes/"+t);n&&(o[t]=n)})),e.Template.register("hermes/reboot-welcome-dialog-content",(function(t,a){return(a=a||{}).partials=a.partials?e.merge(o,a.partials):o,n(t,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});